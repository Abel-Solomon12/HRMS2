{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\HRMS2\\\\HRMS front\\\\src\\\\components\\\\DepartmentList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getJSON, postJSON } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DepartmentList() {\n  _s();\n  const [list, setList] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  async function load() {\n    try {\n      const data = await getJSON(\"departments/\");\n      setList(Array.isArray(data) ? data : []);\n    } catch (error) {\n      console.error(\"Failed to load departments:\", error);\n      setList([]);\n    }\n  }\n  useEffect(() => {\n    load();\n  }, []);\n  async function add(e) {\n    e.preventDefault();\n    const data = {\n      department_id: name.toLowerCase().replace(/\\s+/g, \"-\"),\n      name,\n      description: desc\n    };\n    try {\n      await postJSON(\"departments/\", data);\n      setName(\"\");\n      setDesc(\"\");\n      load();\n    } catch (error) {\n      console.error(\"Failed to add department:\", error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: add,\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Department name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Description\",\n        value: desc,\n        onChange: e => setDesc(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Department\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: list.length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"No departments found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this) : list.map(d => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: d.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), \" \\u2014 \", d.description || \"-\"]\n      }, d.department_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(DepartmentList, \"9UMkasNdm771xu7zb08hlDFezg0=\");\n_c = DepartmentList;\nvar _c;\n$RefreshReg$(_c, \"DepartmentList\");","map":{"version":3,"names":["React","useEffect","useState","getJSON","postJSON","jsxDEV","_jsxDEV","DepartmentList","_s","list","setList","name","setName","desc","setDesc","load","data","Array","isArray","error","console","add","e","preventDefault","department_id","toLowerCase","replace","description","children","onSubmit","className","placeholder","value","onChange","target","required","fileName","_jsxFileName","lineNumber","columnNumber","type","length","map","d","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/HRMS2/HRMS front/src/components/DepartmentList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getJSON, postJSON } from \"../api\";\r\n\r\nexport default function DepartmentList() {\r\n  const [list, setList] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n\r\n  async function load() {\r\n    try {\r\n      const data = await getJSON(\"departments/\");\r\n      setList(Array.isArray(data) ? data : []);\r\n    } catch (error) {\r\n      console.error(\"Failed to load departments:\", error);\r\n      setList([]);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  async function add(e) {\r\n    e.preventDefault();\r\n\r\n    const data = {\r\n      department_id: name.toLowerCase().replace(/\\s+/g, \"-\"),\r\n      name,\r\n      description: desc,\r\n    };\r\n\r\n    try {\r\n      await postJSON(\"departments/\", data);\r\n      setName(\"\");\r\n      setDesc(\"\");\r\n      load();\r\n    } catch (error) {\r\n      console.error(\"Failed to add department:\", error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={add} className=\"card\">\r\n        <input\r\n          placeholder=\"Department name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          placeholder=\"Description\"\r\n          value={desc}\r\n          onChange={(e) => setDesc(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Add Department</button>\r\n      </form>\r\n\r\n      <ul>\r\n        {list.length === 0 ? (\r\n          <li>No departments found.</li>\r\n        ) : (\r\n          list.map((d) => (\r\n            <li key={d.department_id}>\r\n              <strong>{d.name}</strong> â€” {d.description || \"-\"}\r\n            </li>\r\n          ))\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}